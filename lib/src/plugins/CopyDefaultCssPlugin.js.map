{"version":3,"sources":["../../../src/plugins/CopyDefaultCssPlugin.js"],"names":["_","fs","require","mkdirp","CopyDefaultCssPlugin","config","previousSettings","settings","outputDir","defaultsDeep","name","$","err","console","log","pathToDefaultCssFile","__dirname","copySync","src","dest","existsSync","data","readFileSync","writeFileSync","module","exports"],"mappings":";;;;AAEA;;IAAYA,C;;;;;;AAFZ,IAAIC,KAAKC,QAAQ,IAAR,CAAT;AACA,IAAIC,SAASD,QAAQ,QAAR,CAAb;;IAGME,oB;;;sBACOC,M,EAAO;AAChB,UAAIC,mBAAmB,KAAKC,QAA5B;AACA,UAAG,CAACD,gBAAJ,EAAqB;AACnBA,2BAAmB;AACjBE,qBAAW;AADM,SAAnB;AAGD;AACD,WAAKD,QAAL,GAAgBP,EAAES,YAAF,CAAe,EAAf,EAAmBJ,MAAnB,EAA2BC,gBAA3B,CAAhB;AACD;;;AACD,gCAAYD,MAAZ,EAAmB;AAAA;;AACjB,SAAKK,IAAL,GAAY,sBAAZ;AACA,SAAKL,MAAL,GAAcA,MAAd;AACD;;;;0BACI;AACH,UAAMM,IAAI,IAAV;AACAR,aAAOQ,EAAEJ,QAAF,CAAWC,SAAlB,EAA6B,UAAUI,GAAV,EAAe;AAC1C,YAAIA,GAAJ,EAAQ;AACNC,kBAAQC,GAAR,CAAYF,GAAZ;AACD;AACDC,gBAAQC,GAAR,CAAY,4CAA0CH,EAAEJ,QAAF,CAAWC,SAAjE;AACA,YAAIO,uBAAuBC,YAAY,gEAAvC;AACAL,UAAEM,QAAF,CAAWF,oBAAX,EAAiCJ,EAAEJ,QAAF,CAAWC,SAAX,GAAqB,cAAtD;AACD,OAPD;AAQD;;;6BACQU,G,EAAKC,I,EAAM;AAClB,UAAI,CAAClB,GAAGmB,UAAH,CAAcF,GAAd,CAAL,EAAyB;AACvB,eAAO,KAAP;AACD;;AAED,UAAIG,OAAOpB,GAAGqB,YAAH,CAAgBJ,GAAhB,EAAqB,OAArB,CAAX;AACAjB,SAAGsB,aAAH,CAAiBJ,IAAjB,EAAuBE,IAAvB;AACD;;;;;;AAEHG,OAAOC,OAAP,GAAiB;AACfrB,wBAAsBA;AADP,CAAjB","file":"CopyDefaultCssPlugin.js","sourcesContent":["let fs = require('fs');\nlet mkdirp = require('mkdirp');\nimport * as _ from 'lodash';\n\nclass CopyDefaultCssPlugin{\n  set config(config){\n    let previousSettings = this.settings;\n    if(!previousSettings){\n      previousSettings = {\n        outputDir: \"./html\"\n      }\n    }\n    this.settings = _.defaultsDeep({}, config, previousSettings);\n  }\n  constructor(config){\n    this.name = \"CopyDefaultCssPlugin\";\n    this.config = config;\n  }\n  run(){\n    const $ = this;\n    mkdirp($.settings.outputDir, function (err) {\n      if (err){\n        console.log(err);\n      }\n      console.log(\"Copying default argdown.css to folder: \"+$.settings.outputDir);\n      let pathToDefaultCssFile = __dirname + '/../../node_modules/argdown-parser/lib/src/plugins/argdown.css';\n      $.copySync(pathToDefaultCssFile, $.settings.outputDir+\"/argdown.css\");\n    });    \n  }\n  copySync(src, dest) {\n    if (!fs.existsSync(src)) {\n      return false;\n    }\n\n    var data = fs.readFileSync(src, 'utf-8');\n    fs.writeFileSync(dest, data);\n  }\n}\nmodule.exports = {\n  CopyDefaultCssPlugin: CopyDefaultCssPlugin\n}\n"]}