{"version":3,"sources":["../../../src/plugins/CopyDefaultCssPlugin.js"],"names":["_","fs","require","mkdirp","CopyDefaultCssPlugin","config","previousSettings","settings","outputDir","appendTagColors","defaultsDeep","name","data","$","err","console","log","verbose","pathToDefaultCssFile","__dirname","copySync","src","dest","existsSync","readFileSync","writeFileSync","module","exports"],"mappings":";;;;AAEA;;IAAYA,C;;;;;;AAFZ,IAAIC,KAAKC,QAAQ,IAAR,CAAT;AACA,IAAIC,SAASD,QAAQ,QAAR,CAAb;;IAGME,oB;;;sBACOC,M,EAAO;AAChB,UAAIC,mBAAmB,KAAKC,QAA5B;AACA,UAAG,CAACD,gBAAJ,EAAqB;AACnBA,2BAAmB;AACjBE,qBAAW,QADM;AAEjBC,2BAAiB;AAFA,SAAnB;AAID;AACD,WAAKF,QAAL,GAAgBP,EAAEU,YAAF,CAAe,EAAf,EAAmBL,MAAnB,EAA2BC,gBAA3B,CAAhB;AACD;;;AACD,gCAAYD,MAAZ,EAAmB;AAAA;;AACjB,SAAKM,IAAL,GAAY,sBAAZ;AACA,SAAKN,MAAL,GAAcA,MAAd;AACD;;;;wBACGO,I,EAAK;AACP,UAAMC,IAAI,IAAV;AACAV,aAAOU,EAAEN,QAAF,CAAWC,SAAlB,EAA6B,UAAUM,GAAV,EAAe;AAC1C,YAAIA,GAAJ,EAAQ;AACNC,kBAAQC,GAAR,CAAYF,GAAZ;AACD;AACD,YAAGF,QAAQA,KAAKP,MAAb,IAAuBO,KAAKP,MAAL,CAAYY,OAAtC,EAA8C;AAC5CF,kBAAQC,GAAR,CAAY,4CAA0CH,EAAEN,QAAF,CAAWC,SAAjE;AACD;AACD,YAAIU,uBAAuBC,YAAY,mEAAvC;AACAN,UAAEO,QAAF,CAAWF,oBAAX,EAAiCL,EAAEN,QAAF,CAAWC,SAAX,GAAqB,cAAtD;AACD,OATD;AAUD;;;6BACQa,G,EAAKC,I,EAAM;AAClB,UAAI,CAACrB,GAAGsB,UAAH,CAAcF,GAAd,CAAL,EAAyB;AACvB,eAAO,KAAP;AACD;;AAED,UAAIT,OAAOX,GAAGuB,YAAH,CAAgBH,GAAhB,EAAqB,OAArB,CAAX;AACApB,SAAGwB,aAAH,CAAiBH,IAAjB,EAAuBV,IAAvB;AACD;;;;;;AAEHc,OAAOC,OAAP,GAAiB;AACfvB,wBAAsBA;AADP,CAAjB","file":"CopyDefaultCssPlugin.js","sourcesContent":["let fs = require('fs');\nlet mkdirp = require('mkdirp');\nimport * as _ from 'lodash';\n\nclass CopyDefaultCssPlugin{\n  set config(config){\n    let previousSettings = this.settings;\n    if(!previousSettings){\n      previousSettings = {\n        outputDir: \"./html\",\n        appendTagColors: true\n      }\n    }\n    this.settings = _.defaultsDeep({}, config, previousSettings);\n  }\n  constructor(config){\n    this.name = \"CopyDefaultCssPlugin\";\n    this.config = config;\n  }\n  run(data){\n    const $ = this;\n    mkdirp($.settings.outputDir, function (err) {\n      if (err){\n        console.log(err);\n      }\n      if(data && data.config && data.config.verbose){\n        console.log(\"Copying default argdown.css to folder: \"+$.settings.outputDir);        \n      }\n      let pathToDefaultCssFile = __dirname + '/../../../node_modules/argdown-parser/lib/src/plugins/argdown.css';\n      $.copySync(pathToDefaultCssFile, $.settings.outputDir+\"/argdown.css\");\n    });    \n  }\n  copySync(src, dest) {\n    if (!fs.existsSync(src)) {\n      return false;\n    }\n\n    var data = fs.readFileSync(src, 'utf-8');\n    fs.writeFileSync(dest, data);\n  }\n}\nmodule.exports = {\n  CopyDefaultCssPlugin: CopyDefaultCssPlugin\n}\n"]}