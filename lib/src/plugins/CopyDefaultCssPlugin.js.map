{"version":3,"sources":["../../../src/plugins/CopyDefaultCssPlugin.js"],"names":["_","fs","require","mkdirp","CopyDefaultCssPlugin","config","previousSettings","settings","outputDir","defaultsDeep","name","data","saveAs","$","err","console","log","verbose","pathToDefaultCssFile","__dirname","copySync","src","dest","existsSync","readFileSync","writeFileSync","module","exports"],"mappings":";;;;AAEA;;IAAYA,C;;;;;;AAFZ,IAAIC,KAAKC,QAAQ,IAAR,CAAT;AACA,IAAIC,SAASD,QAAQ,QAAR,CAAb;;IAGME,oB;;;sBACOC,M,EAAO;AAChB,UAAIC,mBAAmB,KAAKC,QAA5B;AACA,UAAG,CAACD,gBAAJ,EAAqB;AACnBA,2BAAmB;AACjBE,qBAAW;AADM,SAAnB;AAGD;AACD,WAAKD,QAAL,GAAgBP,EAAES,YAAF,CAAe,EAAf,EAAmBJ,MAAnB,EAA2BC,gBAA3B,CAAhB;AACD;;;AACD,gCAAYD,MAAZ,EAAmB;AAAA;;AACjB,SAAKK,IAAL,GAAY,sBAAZ;AACA,SAAKL,MAAL,GAAcA,MAAd;AACD;;;;wBACGM,I,EAAK;AACP,UAAGA,KAAKN,MAAL,IAAeM,KAAKN,MAAL,CAAYO,MAA3B,IAAqCD,KAAKN,MAAL,CAAYO,MAAZ,CAAmBJ,SAA3D,EAAqE;AACnE,aAAKH,MAAL,GAAc;AACZG,qBAAWG,KAAKN,MAAL,CAAYO,MAAZ,CAAmBJ;AADlB,SAAd;AAGD;AACD,UAAMK,IAAI,IAAV;AACAV,aAAOU,EAAEN,QAAF,CAAWC,SAAlB,EAA6B,UAAUM,GAAV,EAAe;AAC1C,YAAIA,GAAJ,EAAQ;AACNC,kBAAQC,GAAR,CAAYF,GAAZ;AACD;AACD,YAAGH,QAAQA,KAAKN,MAAb,IAAuBM,KAAKN,MAAL,CAAYY,OAAtC,EAA8C;AAC5CF,kBAAQC,GAAR,CAAY,4CAA0CH,EAAEN,QAAF,CAAWC,SAAjE;AACD;AACD,YAAIU,uBAAuBC,YAAY,mEAAvC;AACAN,UAAEO,QAAF,CAAWF,oBAAX,EAAiCL,EAAEN,QAAF,CAAWC,SAAX,GAAqB,cAAtD;AACD,OATD;AAUD;;;6BACQa,G,EAAKC,I,EAAM;AAClB,UAAI,CAACrB,GAAGsB,UAAH,CAAcF,GAAd,CAAL,EAAyB;AACvB,eAAO,KAAP;AACD;;AAED,UAAIV,OAAOV,GAAGuB,YAAH,CAAgBH,GAAhB,EAAqB,OAArB,CAAX;AACApB,SAAGwB,aAAH,CAAiBH,IAAjB,EAAuBX,IAAvB;AACD;;;;;;AAEHe,OAAOC,OAAP,GAAiB;AACfvB,wBAAsBA;AADP,CAAjB","file":"CopyDefaultCssPlugin.js","sourcesContent":["let fs = require('fs');\nlet mkdirp = require('mkdirp');\nimport * as _ from 'lodash';\n\nclass CopyDefaultCssPlugin{\n  set config(config){\n    let previousSettings = this.settings;\n    if(!previousSettings){\n      previousSettings = {\n        outputDir: \"./html\"\n      }\n    }\n    this.settings = _.defaultsDeep({}, config, previousSettings);\n  }\n  constructor(config){\n    this.name = \"CopyDefaultCssPlugin\";\n    this.config = config;\n  }\n  run(data){\n    if(data.config && data.config.saveAs && data.config.saveAs.outputDir){\n      this.config = {\n        outputDir: data.config.saveAs.outputDir\n      }\n    }\n    const $ = this;\n    mkdirp($.settings.outputDir, function (err) {\n      if (err){\n        console.log(err);\n      }\n      if(data && data.config && data.config.verbose){\n        console.log(\"Copying default argdown.css to folder: \"+$.settings.outputDir);        \n      }\n      let pathToDefaultCssFile = __dirname + '/../../../node_modules/argdown-parser/lib/src/plugins/argdown.css';\n      $.copySync(pathToDefaultCssFile, $.settings.outputDir+\"/argdown.css\");\n    });    \n  }\n  copySync(src, dest) {\n    if (!fs.existsSync(src)) {\n      return false;\n    }\n\n    var data = fs.readFileSync(src, 'utf-8');\n    fs.writeFileSync(dest, data);\n  }\n}\nmodule.exports = {\n  CopyDefaultCssPlugin: CopyDefaultCssPlugin\n}\n"]}