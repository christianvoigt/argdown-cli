{"version":3,"sources":["../../../src/plugins/StdOutPlugin.js"],"names":["_","StdOutPlugin","config","previousSettings","settings","dataKey","defaultsDeep","constructor","name","run","request","response","stdOut","content","isRequestData","process","stdout","write","module","exports"],"mappings":";;AAAA;;IAAYA,C;;;;AAEZ,MAAMC,YAAN,CAAmB;AACf,QAAIC,MAAJ,CAAWA,MAAX,EAAmB;AACf,YAAIC,mBAAmB,KAAKC,QAA5B;AACA,YAAI,CAACD,gBAAL,EAAuB;AACnBA,+BAAmB;AACfE,yBAAS;AADM,aAAnB;AAGH;AACD,aAAKD,QAAL,GAAgBJ,EAAEM,YAAF,CAAe,EAAf,EAAmBJ,MAAnB,EAA2BC,gBAA3B,CAAhB;AACH;AACDI,gBAAYL,MAAZ,EAAoB;AAChB,aAAKM,IAAL,GAAY,cAAZ;AACA,aAAKN,MAAL,GAAcA,MAAd;AACH;AACDO,QAAIC,OAAJ,EAAaC,QAAb,EAAuB;AACnB,YAAID,QAAQE,MAAZ,EAAoB;AAChB,iBAAKV,MAAL,GAAcQ,QAAQE,MAAtB;AACH;AACD,YAAIC,UAAU,CAAC,KAAKT,QAAL,CAAcU,aAAf,GACRH,SAAS,KAAKP,QAAL,CAAcC,OAAvB,CADQ,GAERK,QAAQ,KAAKN,QAAL,CAAcC,OAAtB,CAFN;AAGAU,gBAAQC,MAAR,CAAeC,KAAf,CAAqBJ,OAArB;AACH;AAtBc;;AAyBnBK,OAAOC,OAAP,GAAiB;AACblB,kBAAcA;AADD,CAAjB","file":"StdOutPlugin.js","sourcesContent":["import * as _ from \"lodash\";\n\nclass StdOutPlugin {\n    set config(config) {\n        let previousSettings = this.settings;\n        if (!previousSettings) {\n            previousSettings = {\n                dataKey: \"test\"\n            };\n        }\n        this.settings = _.defaultsDeep({}, config, previousSettings);\n    }\n    constructor(config) {\n        this.name = \"StdOutPlugin\";\n        this.config = config;\n    }\n    run(request, response) {\n        if (request.stdOut) {\n            this.config = request.stdOut;\n        }\n        let content = !this.settings.isRequestData\n            ? response[this.settings.dataKey]\n            : request[this.settings.dataKey];\n        process.stdout.write(content);\n    }\n}\n\nmodule.exports = {\n    StdOutPlugin: StdOutPlugin\n};\n"]}