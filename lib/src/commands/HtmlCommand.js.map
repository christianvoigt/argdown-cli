{"version":3,"sources":["../../../src/commands/HtmlCommand.js"],"names":["command","desc","builder","headless","alias","describe","type","head","css","title","lang","charset","handler","argv","config","loadConfig","html","HtmlExport","inputGlob","input","saveAs","SaveAsFilePlugin","outputDir","verbose","watch","process","stdout","push","load"],"mappings":";;;;;;;AAAA;;AAEO,IAAMA,4BAAU,8BAAhB;AACA,IAAMC,sBAAO,oCAAb;AACA,IAAMC,4BAAU;AACrBC,YAAU;AACRC,WAAO,IADC;AAERC,cAAU,6CAFF;AAGRC,UAAM;AAHE,GADW;AAMrBC,QAAM;AACJH,WAAO,GADH;AAEJC,cAAU,uGAFN;AAGJC,UAAM;AAHF,GANe;AAWrBE,OAAK;AACHJ,WAAO,GADJ;AAEHC,cAAU,6DAFP;AAGHC,UAAM;AAHH,GAXgB;AAgBrBG,SAAO;AACLL,WAAO,GADF;AAELC,cAAU,uDAFL;AAGLC,UAAM;AAHD,GAhBc;AAqBrBI,QAAM;AACJN,WAAO,GADH;AAEJC,cAAU,2BAFN;AAGJC,UAAM;AAHF,GArBe;AA0BrBK,WAAS;AACPP,WAAO,IADA;AAEPC,cAAU,0BAFH;AAGPC,UAAM;AAHC;AA1BY,CAAhB;AAgCA,IAAMM,4BAAU,SAAVA,OAAU,CAASC,IAAT,EAAc;AACnC,MAAIC,SAAS,WAAIC,UAAJ,CAAeF,KAAKC,MAApB,CAAb;;AAEAA,SAAOE,IAAP,GAAcF,OAAOE,IAAP,IAAeF,OAAOG,UAAtB,IAAmC,EAAjD;;AAEA,MAAGJ,KAAKV,QAAR,EAAiB;AACfW,WAAOE,IAAP,CAAYb,QAAZ,GAAuB,IAAvB;AACD;AACD,MAAGU,KAAKJ,KAAR,EAAc;AACZK,WAAOE,IAAP,CAAYP,KAAZ,GAAoBI,KAAKJ,KAAzB;AACD;;AAED,MAAGI,KAAKK,SAAR,EAAkB;AAChBJ,WAAOK,KAAP,GAAeN,KAAKK,SAApB;AACD;AACDJ,SAAOM,MAAP,GAAgBN,OAAOM,MAAP,IAAgBN,OAAOO,gBAAvB,IAA0C,EAA1D;AACA,MAAGR,KAAKS,SAAR,EAAkB;AAChBR,WAAOM,MAAP,CAAcE,SAAd,GAA0BT,KAAKS,SAA/B;AACD;;AAEDR,SAAOS,OAAP,GAAiBV,KAAKU,OAAL,IAAeT,OAAOS,OAAvC;AACAT,SAAOU,KAAP,GAAeX,KAAKW,KAAL,IAAaV,OAAOU,KAAnC;AACAV,SAAOW,OAAP,GAAiB,CAAC,aAAD,EAAe,aAAf,CAAjB;AACA,MAAG,CAACZ,KAAKa,MAAN,IAAgBb,KAAKS,SAAxB,EAAkC;AAChCR,WAAOW,OAAP,CAAeE,IAAf,CAAoB,cAApB;AACD;;AAED,MAAGd,KAAKL,GAAR,EAAY;AACVM,WAAOE,IAAP,CAAYR,GAAZ,GAAkBK,KAAKL,GAAvB;AACD,GAFD,MAEM,IAAG,CAACK,KAAKa,MAAN,IAAgBb,KAAKS,SAAxB,EAAkC;AACtCR,WAAOW,OAAP,CAAeE,IAAf,CAAoB,kBAApB;AACD;AACD,MAAGd,KAAKa,MAAR,EAAe;AACbZ,WAAOW,OAAP,CAAeE,IAAf,CAAoB,aAApB;AACD;;AAED,aAAIC,IAAJ,CAASd,MAAT;AACD,CArCM","file":"HtmlCommand.js","sourcesContent":["import {app} from '../index.js';\n\nexport const command = 'html [inputGlob] [outputDir]';\nexport const desc = 'export Argdown input as HTML files';\nexport const builder = {\n  headless: {\n    alias: 'hl',\n    describe: 'Export without Html, Head and Body elements',\n    type: 'boolean'\n  },\n  head: {\n    alias: 'h',\n    describe: 'Allows you to prepend a custom head element to the html (has to include doctype and html opening tag)',\n    type: 'string'\n  },\n  css: {\n    alias: 'c',\n    describe: 'path to custom CSS file to include in the default HTML head',\n    type: 'string'\n  },\n  title: {\n    alias: 't',\n    describe: 'Title for HTML document (default: H1 element content)',\n    type: 'string'\n  },\n  lang: {\n    alias: 'l',\n    describe: 'Language of HTML document',\n    type: 'string'\n  },\n  charset: {\n    alias: 'cs',\n    describe: 'Charset of HTML document',\n    type: 'string',\n  }\n};\nexport const handler = function(argv){\n  let config = app.loadConfig(argv.config);\n  \n  config.html = config.html || config.HtmlExport ||{};\n\n  if(argv.headless){\n    config.html.headless = true;\n  }\n  if(argv.title){\n    config.html.title = argv.title;\n  }\n  \n  if(argv.inputGlob){\n    config.input = argv.inputGlob;\n  }\n  config.saveAs = config.saveAs ||config.SaveAsFilePlugin ||{};\n  if(argv.outputDir){\n    config.saveAs.outputDir = argv.outputDir;\n  }\n  \n  config.verbose = argv.verbose ||config.verbose;\n  config.watch = argv.watch ||config.watch;\n  config.process = [\"build-model\",\"export-html\"];\n  if(!argv.stdout || argv.outputDir){\n    config.process.push(\"save-as-html\");\n  }\n  \n  if(argv.css){\n    config.html.css = argv.css;\n  }else if(!argv.stdout || argv.outputDir){\n    config.process.push(\"copy-default-css\");\n  }\n  if(argv.stdout){\n    config.process.push(\"stdout-html\");\n  }\n\n  app.load(config);  \n} \n"]}