{"version":3,"sources":["../../../src/commands/CompileCommand.js"],"names":["command","desc","builder","handler","argv","config","loadConfig","inputGlob","inputPath","saveAs","SaveAsFilePlugin","outputDir","logLevel","verbose","watch","process","stdout","push","load","catch","e","console","log"],"mappings":";;;;;;;AAAA;;AAEO,MAAMA,4BAAU,iCAAhB;AACA,MAAMC,sBAAO,+CAAb;AACA,MAAMC,4BAAU,EAAhB;AAEA,MAAMC,4BAAU,UAASC,IAAT,EAAc;AACnC,MAAIC,SAAS,WAAIC,UAAJ,CAAeF,KAAKC,MAApB,CAAb;;AAEA,MAAGD,KAAKG,SAAR,EAAkB;AAChBF,WAAOG,SAAP,GAAmBJ,KAAKG,SAAxB;AACD;AACDF,SAAOI,MAAP,GAAgBJ,OAAOI,MAAP,IAAgBJ,OAAOK,gBAAvB,IAA0C,EAA1D;AACA,MAAGN,KAAKO,SAAR,EAAkB;AAChBN,WAAOI,MAAP,CAAcE,SAAd,GAA0BP,KAAKO,SAA/B;AACD;;AAEDN,SAAOO,QAAP,GAAkBR,KAAKS,OAAL,GAAe,SAAf,GAA2BR,OAAOO,QAApD;AACAP,SAAOS,KAAP,GAAeV,KAAKU,KAAL,IAAaT,OAAOS,KAAnC;AACAT,SAAOU,OAAP,GAAiB,CAAC,cAAD,CAAjB;AACA,MAAG,CAACX,KAAKY,MAAN,IAAgBZ,KAAKO,SAAxB,EAAkC;AAChCN,WAAOU,OAAP,CAAeE,IAAf,CAAoB,iBAApB;AACD;AACD,MAAGb,KAAKY,MAAR,EAAe;AACbX,WAAOU,OAAP,CAAeE,IAAf,CAAoB,gBAApB;AACD;AACD,aAAIC,IAAJ,CAASb,MAAT,EAAiBc,KAAjB,CAAuBC,KAAKC,QAAQC,GAAR,CAAYF,CAAZ,CAA5B;AACD,CArBM","file":"CompileCommand.js","sourcesContent":["import {app} from '../index.js';\n\nexport const command = 'compile [inputGlob] [outputDir]';\nexport const desc = 'compile included Argdown files into main file';\nexport const builder = {\n};\nexport const handler = function(argv){\n  let config = app.loadConfig(argv.config);\n  \n  if(argv.inputGlob){\n    config.inputPath = argv.inputGlob;\n  }\n  config.saveAs = config.saveAs ||config.SaveAsFilePlugin ||{};\n  if(argv.outputDir){\n    config.saveAs.outputDir = argv.outputDir;\n  }\n  \n  config.logLevel = argv.verbose ? \"verbose\" : config.logLevel;\n  config.watch = argv.watch ||config.watch;\n  config.process = ['preprocessor'];\n  if(!argv.stdout || argv.outputDir){\n    config.process.push('save-as-argdown');\n  }\n  if(argv.stdout){\n    config.process.push('stdout-argdown');\n  }\n  app.load(config).catch(e => console.log(e));  \n} \n"]}