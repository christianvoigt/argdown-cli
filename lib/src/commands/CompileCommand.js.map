{"version":3,"sources":["../../../src/commands/CompileCommand.js"],"names":["command","desc","builder","handler","argv","config","loadConfig","inputGlob","input","saveAs","SaveAsFilePlugin","outputDir","verbose","watch","process","stdout","push","load"],"mappings":";;;;;;;AAAA;;AAEO,IAAMA,4BAAU,iCAAhB;AACA,IAAMC,sBAAO,+CAAb;AACA,IAAMC,4BAAU,EAAhB;AAEA,IAAMC,4BAAU,SAAVA,OAAU,CAASC,IAAT,EAAc;AACnC,MAAIC,SAAS,WAAIC,UAAJ,CAAeF,KAAKC,MAApB,CAAb;;AAEA,MAAGD,KAAKG,SAAR,EAAkB;AAChBF,WAAOG,KAAP,GAAeJ,KAAKG,SAApB;AACD;AACDF,SAAOI,MAAP,GAAgBJ,OAAOI,MAAP,IAAgBJ,OAAOK,gBAAvB,IAA0C,EAA1D;AACA,MAAGN,KAAKO,SAAR,EAAkB;AAChBN,WAAOI,MAAP,CAAcE,SAAd,GAA0BP,KAAKO,SAA/B;AACD;;AAEDN,SAAOO,OAAP,GAAiBR,KAAKQ,OAAL,IAAeP,OAAOO,OAAvC;AACAP,SAAOQ,KAAP,GAAeT,KAAKS,KAAL,IAAaR,OAAOQ,KAAnC;AACAR,SAAOS,OAAP,GAAiB,CAAC,cAAD,CAAjB;AACA,MAAG,CAACV,KAAKW,MAAN,IAAgBX,KAAKO,SAAxB,EAAkC;AAChCN,WAAOS,OAAP,CAAeE,IAAf,CAAoB,iBAApB;AACD;AACD,MAAGZ,KAAKW,MAAR,EAAe;AACbV,WAAOS,OAAP,CAAeE,IAAf,CAAoB,gBAApB;AACD;;AAED,aAAIC,IAAJ,CAASZ,MAAT;AACD,CAtBM","file":"CompileCommand.js","sourcesContent":["import {app} from '../index.js';\n\nexport const command = 'compile [inputGlob] [outputDir]';\nexport const desc = 'compile included Argdown files into main file';\nexport const builder = {\n};\nexport const handler = function(argv){\n  let config = app.loadConfig(argv.config);\n  \n  if(argv.inputGlob){\n    config.input = argv.inputGlob;\n  }\n  config.saveAs = config.saveAs ||config.SaveAsFilePlugin ||{};\n  if(argv.outputDir){\n    config.saveAs.outputDir = argv.outputDir;\n  }\n  \n  config.verbose = argv.verbose ||config.verbose;\n  config.watch = argv.watch ||config.watch;\n  config.process = ['preprocessor'];\n  if(!argv.stdout || argv.outputDir){\n    config.process.push('save-as-argdown');\n  }\n  if(argv.stdout){\n    config.process.push('stdout-argdown');\n  }\n  \n  app.load(config);  \n} \n"]}